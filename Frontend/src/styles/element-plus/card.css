/* =========================================================
   Element Plus — Card (token-driven, light + dark)
   Senior rule:
   - 1 base .el-card
   - variants via extra classes: .stat-card, .app-card, .viz-card
   - header width fix once
========================================================= */

/* ---------------------------
   Base Card (all cards)
--------------------------- */
.el-card {
    background: var(--color-card) !important;
    color: var(--text-color) !important;

    border: 1px solid var(--border-color) !important;
    border-radius: calc(var(--border-radius-base, 12px) + 2px) !important;

    box-shadow: 0 6px 18px var(--card-shadow) !important;

    transition:
        transform var(--transition-base),
        box-shadow var(--transition-base),
        border-color var(--transition-base),
        background-color var(--transition-base);
}

/* Only “raise” when hoverable or explicitly clickable */
.el-card.is-hoverable:hover,
.el-card.app-card.is-hoverable:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 26px var(--card-shadow) !important;
    border-color: color-mix(in srgb, var(--border-color) 45%, var(--color-primary) 55%) !important;
}

/* Header + body */
.el-card__header {
    width: 100% !important;
    background: transparent !important;
    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 70%, transparent) !important;
}

/* Important: header slot wrapper should stretch full width */
.el-card__header>* {
    width: 100% !important;
    flex: 1 1 auto !important;
    min-width: 0 !important;
}

.el-card__body {
    padding: 14px 16px !important;
    background: transparent !important;
    color: var(--text-color) !important;
}

/* ---------------------------
   Header layout helpers (optional)
   Use when your header slot uses these classnames
--------------------------- */
.el-card__header .table-card__header {
    width: 100% !important;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    min-width: 0;
}

.el-card__header .table-card__left {
    flex: 1 1 auto;
    min-width: 0;
}

.el-card__header .table-card__right {
    flex: 0 0 auto;
}

/* ---------------------------
   KPI / Stat Card Variant
--------------------------- */
.el-card.stat-card {
    border-radius: calc(var(--border-radius-base, 12px) + 4px) !important;

    border: 1px solid color-mix(in srgb, var(--border-color) 50%, var(--color-primary) 50%) !important;

    background:
        radial-gradient(circle at 0 0,
            color-mix(in srgb, var(--color-primary) 10%, var(--color-card) 90%),
            var(--color-card) 58%) !important;

    box-shadow: 0 10px 28px var(--card-shadow) !important;
}

.el-card.stat-card.is-hoverable:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 34px var(--card-shadow) !important;
}

.el-card.stat-card .el-card__body {
    padding: 12px 16px !important;
}

.card-title {
    font-size: 13px;
    font-weight: 700;
    color: var(--text-color);
}

.card-subtitle {
    font-size: 11px;
    color: var(--muted-color);
}

/* ---------------------------
   App Card Variant (general sections)
--------------------------- */
.el-card.app-card {
    /* slightly softer by default */
    box-shadow: 0 2px 10px var(--card-shadow) !important;
}

/* Viz card: no hover elevation unless you opt-in */
.el-card.app-card.viz-card {
    box-shadow: 0 1px 6px var(--card-shadow) !important;
}

.el-card.app-card.viz-card.is-hoverable:hover {
    transform: translateY(0);
    box-shadow: 0 1px 6px var(--card-shadow) !important;
    border-color: var(--border-color) !important;
}

.el-card.app-card.viz-card .el-card__body {
    padding: 12px 14px !important;
}

/* ---------------------------
   Mobile tuning (optional)
--------------------------- */
@media (max-width: 640px) {
    .el-card__body {
        padding: 12px 12px !important;
    }
}

/* ---------------------------
   Loading overlay (if you keep it here)
--------------------------- */
.el-loading-mask {
    background-color: color-mix(in srgb, var(--color-bg) 55%, transparent) !important;
    backdrop-filter: blur(2px);
}

html[data-theme="dark"] .el-loading-mask {
    background-color: rgba(0, 0, 0, 0.45) !important;
}

.el-loading-spinner .el-loading-text {
    color: var(--text-color) !important;
}